# =============================================================================
# Core Dependencies (required)
# =============================================================================
# Pin exact torch versions - installed first in Dockerfile with CUDA support
# These pins prevent other packages from upgrading torch
torch==2.1.0
torchaudio==2.1.0

# API Server
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
python-multipart>=0.0.6

# Audio Processing
soundfile>=0.12.1
# Note: numpy version is managed by TTS/torch dependencies
librosa>=0.10.1
noisereduce>=3.0.0

# Utilities
pydantic>=2.5.0
pydantic-settings>=2.1.0
python-dotenv>=1.0.0

# =============================================================================
# TTS Backends
# =============================================================================

# Qwen3-TTS (SOTA) - Recommended for voice cloning (Jan 2026)
# Requires Python 3.12 and FlashAttention 2 for optimal performance
# Only needs 3 seconds of reference audio!
qwen-tts>=1.0.0

# XTTS v2 (Coqui TTS) - mature fallback option
TTS>=0.22.0
# Pin transformers to avoid BeamSearchScorer import error (removed in transformers>=4.40)
transformers>=4.33.0,<4.40.0

# F5-TTS - high quality zero-shot voice cloning
# DISABLED: F5-TTS pulls in torchcodec which has FFmpeg/PyTorch version conflicts
# Uncomment if you want to use F5-TTS and are willing to debug the dependencies
# f5-tts

# Chatterbox (Resemble AI) - INCOMPATIBLE with XTTS
# Requires transformers==4.46.3 which conflicts with XTTS's transformers<4.40.0
# Install in separate environment if needed:
#   pip install chatterbox-tts
# chatterbox-tts
